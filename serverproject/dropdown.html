<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Dropdown Example</title>
    <style>
        body {
            background-color: #191970; /* Midnight Blue */
            color: white; /* White text for better contrast */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .dropdown-container {
            width: 300px;
            margin: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #191970; /* Midnight Blue */
            position: relative;
            transition: max-height 0.3s ease;
            max-height: 75px; /* Initial max-height to show only the title and summary */
            overflow: hidden;
        }
        .dropdown-title {
            padding: 5px 10px;
            border-bottom: 1px solid #ccc;
            cursor: pointer;
            background-color: #1c1c8c; /* Slightly different shade of midnight blue */
            margin: 0; /* Remove margin */
        }
        .dropdown-info {
            padding: 5px 10px;
            background-color: #1c1c8c;
            border-bottom: 1px solid #ccc;
            margin: 0; /* Remove margin */
            line-height: 1.4; /* Adjust line-height */
        }
        .dropdown-content {
            background-color: #1c1c8c;
            margin: 0; /* Remove margin */
            line-height: 1.4; /* Adjust line-height */
            visibility: hidden; /* Hide initially */
            opacity: 0; /* Make invisible initially */
            height: 0; /* No height initially */
            transition: visibility 0s, opacity 0.3s linear, height 0.3s ease;
        }
        .dropdown-container:hover .dropdown-content {
            visibility: visible; /* Show on hover */
            opacity: 1; /* Fade in on hover */
            height: 200px; /* Show exactly 100px on hover */
        }
        .dropdown-container.clicked {
            max-height: 1000px; /* Large max-height to accommodate full content */
        }
        .dropdown-container.clicked .dropdown-content {
            visibility: visible; /* Ensure visibility when clicked */
            opacity: 1; /* Ensure opacity when clicked */
            height: auto; /* Full height when clicked */
        }
        p {
            margin: 0; /* Remove margin from paragraphs */
            padding: 0; /* Remove padding from paragraphs */
        }
    </style>
</head>
<body>
{topic for topic in topics}
    <div class="dropdown-container" onclick="toggleFullContent(event, this)">
        <div class="dropdown-title">Title: Cars</div>
        <div class="dropdown-info">A quick summary about cars.</div>
        <div class="dropdown-content">
            <p>Cars are a mode of transportation with four wheels. They are used for personal and commercial transportation. They come in various types such as sedans, SUVs, and trucks, and can be powered by gasoline, electricity, or hybrid systems. Cars have a significant impact on our daily lives and are a crucial part of modern society. They offer flexibility and convenience for traveling short and long distances.</p>
        </div>
    </div>

    <div class="dropdown-container" onclick="toggleFullContent(event, this)">
        <div class="dropdown-title">Title: Bikes</div>
        <div class="dropdown-info">A quick summary about bikes.</div>
        <div class="dropdown-content">
            <p>Bikes are two-wheeled vehicles that are often human-powered through pedaling. They are commonly used for exercise, commuting, and recreation. Bikes come in various styles such as road bikes, mountain bikes, and hybrid bikes, each designed for specific terrains and purposes. They are eco-friendly and promote healthy living by encouraging physical activity. Biking can be an enjoyable and efficient way to navigate both urban and rural environments.</p>
        </div>
    </div>

<script>
    function toggleFullContent(event, element) {
        event.stopPropagation(); // Prevent event from bubbling up

        // Toggle the "clicked" class
        if (element.classList.contains("clicked")) {
            element.classList.remove("clicked");
        } else {
            // Remove "clicked" class from all other containers
            var containers = document.querySelectorAll('.dropdown-container');
            containers.forEach(function(container) {
                container.classList.remove("clicked");
            });
            element.classList.add("clicked");
        }
    }

    // Close dropdown when clicking outside of it
    document.addEventListener('click', function(event) {
        var isClickInside = event.target.closest('.dropdown-container');
        if (!isClickInside) {
            var containers = document.querySelectorAll('.dropdown-container');
            containers.forEach(function(container) {
                container.classList.remove("clicked");
            });
        }
    });

    // Prevent clicks inside the dropdown from closing it
    document.querySelectorAll('.dropdown-container').forEach(function(container) {
        container.addEventListener('click', function(event) {
            event.stopPropagation();
        });
    });
</script>

</body>
</html>
